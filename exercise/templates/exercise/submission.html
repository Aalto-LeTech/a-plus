{% extends "exercise/exercise_base.html" %}
{% load i18n %}

{% block title %}{{ block.super }} / {% trans "Submission" %} {{ index }}{% endblock %}
{% block view_tag %}submission{% endblock %}

{% block exercisebreadcrumblist %}
{{ block.super }}
<li class="active">{% trans "Submission" %} {{ index }}</li>
{% endblock %}

{% block exercisecontent %}
    {% if submission.files.all %}
    <h4>{% trans "Files in this submission" %}</h4>
    <ul class="list-unstyled">
        {% for file in submission.files.all %}
        <li>
        	<span class="glyphicon glyphicon-file" aria-hidden="true"></span>
        	{% include "exercise/_file_link.html" %}
        </li>
        {% endfor %}
    </ul>
    {% endif %}

    {% if submission.assistant_feedback %}
    <h4>{% trans "Assistant feedback" %}</h4>
    <blockquote>{{ submission.assistant_feedback|safe }}</blockquote>
    {% elif submission.exercise.allow_assistant_grading %}
    <div class="alert alert-info">
        {% trans "No assistant feedback available for this submission." %}
    </div>
    {% endif %}

    {% if submission.feedback %}
    <div id="exercise">
        {{ submission.feedback|safe }}
    </div>
    {% else %}
    <div class="alert alert-info">
        {% trans "No grader feedback available for this submission." %}
    </div>
    {% endif %}

{% endblock %}

{% block exerciseinfo %}
{{ block.super }}
{% include 'exercise/_submission_info.html' %}
{% endblock %}
