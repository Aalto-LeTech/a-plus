{% extends "base.html" %}
{% load i18n %}

{% block maintitle %}
<h1>{{ welcome_text|safe }}</h1>
{% endblock %}

{% block content %}
<div class="hero-unit">
    {% blocktrans %}
    <p>
        A+ is a service for managing the learning activities. The system is designed for
        improving the interoperability of various e-learning systems by connecting them
        with a service-oriented approach.

        A+ is in <strong>beta</strong> and we need your help to move forward. Please
        inform the course staff if you observe unexpected behavior.
    </p>
    {% endblocktrans %}
</div>

{% for instance in instances %}
{% url 'course' course_url=instance.course.url instance_url=instance.url as instance_url %}

{# Output a beginning row on every third instance #}
{% if forloop.counter0|divisibleby:3 %}
<div class="row">
{% endif %}

    <div class="span4">
        <h3>
        	<a href="{{ instance_url }}">
        		{{ instance.course.name }}
        	</a>
        </h3>
        <p>
            <a class="btn" href="{{ instance_url }}">
            	{{ instance.instance_name }} &raquo;
            </a>
        </p>
    </div>

{# Output an ending row element after every three instances, and at the end of the loop #}
{% if forloop.counter|divisibleby:3 or forloop.last %}
</div>
{% endif %}

{% endfor %}

{% endblock %}

{% block footercontent %}
<p>
	{% url 'archive' as archive_url %}
	{% blocktrans with url=archive_url %}
    Old courses can be found at the <a href="{{ url }}">course archive</a>.
    {% endblocktrans %}
</p>
{% endblock %}
